services:
  demo:
  tms:
    # needs no arguments
  wms:
    srs: ['EPSG:4326', 'EPSG:900913', 'EPSG:3857', 'EPSG:28992']
    md:
      # metadata used in capabilities documents
      title: MapProxy Amsterdam
      abstract: MapProxy configuratie voor Amsterdam
      online_resource: http://mapproxy.org/
      contact:
        person: Stephan Zaat
        position: n/a
        organization: Gemeente Amsterdam
        address: n/a
        city: Amsterdam
        postcode: n/a
        country: Netherlands
        phone: n/a
        fax: n/a
        email: info@zosc.nl
      fees: 'None'

layers:
  - name: topo_RD
    title: Topo RD
    sources: [topo_rd_cache]
  - name: lufo2015_RD
    title: Luchtfoto 2015 RD
    sources: [lufo2015_rd_cache]
  - name: lufo2014_RD
    title: Luchtfoto 2014 RD
    sources: [lufo2014_rd_cache]
  - name: lufo2013_RD
    title: Luchtfoto 2013 RD
    sources: [lufo2013_rd_cache]
  - name: lufo2012_RD
    title: Luchtfoto 2012 RD
    sources: [lufo2012_rd_cache]
  - name: lufo2011_RD
    title: Luchtfoto 2011 RD
    sources: [lufo2011_rd_cache]

caches:
  topo_rd_cache:
    grids: [nl_grid]
    sources: [topo_wms]
    cache:
      type: file
      directory_layout: tms
      
  lufo2015_rd_cache:
    grids: [nl_grid]
    sources: [lufo2015_wms]
    format: image/jpeg
    cache:
      type: file
      directory_layout: tms

  lufo2014_rd_cache:
    grids: [nl_grid]
    sources: [lufo2014_wms]
    format: image/jpeg
    cache:
      type: file
      directory_layout: tms

  lufo2013_rd_cache:
    grids: [nl_grid]
    sources: [lufo2013_wms]
    format: image/jpeg
    cache:
      type: file
      directory_layout: tms

  lufo2012_rd_cache:
    grids: [nl_grid]
    sources: [lufo2012_wms]
    format: image/jpeg
    cache:
      type: file
      directory_layout: tms

  lufo2011_rd_cache:
    grids: [nl_grid]
    sources: [lufo2011_wms]
    format: image/jpeg
    cache:
      type: file
      directory_layout: tms

sources:
  topo_wms:
    type: wms
    req:
      url: http://www.diva.amsterdam.nl/cgi-bin/topografie
      layers: topovlakken,topolijnen,topoteksten
  lufo2015_wms:
    type: wms
    req:
      url: http://atlas_map.service.consul/cgi-bin/mapserv?map=/srv/mapserver/lufo.map
      layers: lufo2015
  lufo2014_wms:
    type: wms
    req:
      url: http://atlas_map.service.consul/cgi-bin/mapserv?map=/srv/mapserver/lufo.map
      layers: lufo2014
  lufo2013_wms:
    type: wms
    req:
      url: http://atlas_map.service.consul/cgi-bin/mapserv?map=/srv/mapserver/lufo.map
      layers: lufo2013
  lufo2012_wms:
    type: wms
    req:
      url: http://atlas_map.service.consul/cgi-bin/mapserv?map=/srv/mapserver/lufo.map
      layers: lufo2012
  lufo2011_wms:
    type: wms
    req:
      url: http://atlas_map.service.consul/cgi-bin/mapserv?map=/srv/mapserver/lufo.map
      layers: lufo2011

grids:
  nl_grid:
    srs: EPSG:28992
    tile_size: [256,256]
    res: [3440.64,1720.32,860.16,430.08,215.04,107.52,53.76,26.88,13.44,6.72,3.36,1.68,0.84,0.42,0.21,0.105,0.0525]
    bbox: [-285401.920,22598.080,595401.9199999999,903401.9199999999]
#    origin: ul

globals:
  cache:
    base_dir: '/srv/mapproxy/tiles/cache_data'
    lock_dir: '/srv/mapproxy/tiles/cache_data/locks'
    meta_size: [4, 4]
    meta_buffer: 128

  image:
      resampling_method: bicubic

